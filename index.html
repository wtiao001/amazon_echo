<!DOCTYPE>
<html>
    <head>
        <link rel="stylesheet" href="css/intro.css">
        <link rel="stylesheet" href="fonts/stylesheet.css">
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <body>
       <div id="start" class="next">
            <div class="echoimg">
            </div>
             <div class="bubble-wrap">
                <div class="bubble">
                    <div class="text">"Alexa, </div>
                    <div class="text2">what song is this?"</div>
                </div> 
                <div class="triangle"></div>
                
            </div>
            <div class="bubble-wrap2">
                <div class="bubble2">
                </div> 
                <div class="triangle2"></div>
                <div class="text21">"Alexa, </div>
                <div class="text22">what's the weather like?"</div>
            </div> 
            <div class="circle-background">
               <div class="circle"></div>
              <div class="circle1"></div>
              <div class="circle2"></div>
              <div class="circle3"></div>
              <div class="circle4"></div>
              <div class="circle5"></div>   
            </div>
            <div class="meet-text">Introducing the 2nd generation</div>
            <div class="smile-wrap">
               <div class="meet-text2">echo</div>
               <img id="smile" src="icons/smile-07.svg"/>
            </div>
            <div class="enter-button-wrap">
                <a href="echo.html" class="enter-button">Enter</a>
            </div>
       </div>
    </body>
    <script>
        $(document).ready(function(){
        
        setTimeout(function(){
            $('.circle').addClass('animated');
        },800);
        setTimeout(function(){
            $('.circle1').addClass('animated');
        },4500);
        setTimeout(function(){
            $('.circle1').css({"opacity":"0"});
        },4650);
        setTimeout(function(){
            $('.circle2').addClass('animated');
        },4600);
        setTimeout(function(){
            $('.circle2').css({"opacity":"0"});
        },4750);
//        setTimeout(function(){
//            $('.circle3').addClass('animated');
//        },5700);
//        setTimeout(function(){
//            $('.circle3').css({"opacity":"0"});
//        },5850);
//        setTimeout(function(){
//            $('.circle4').addClass('animated');
//        },1300);
//        setTimeout(function(){
//            $('.circle4').css({"opacity":"0"});
//        },1450);
//        setTimeout(function(){
//            $('.circle5').addClass('animated');
//        },1400);
//        setTimeout(function(){
//            $('.circle5').css({"opacity":"0"});
//        },1550);
        setTimeout(function(){
            $('.bubble').addClass('animated');
        },2000);
        setTimeout(function(){
            $('.triangle').css({"border-right":"40px solid transparent"});
        },1950);
        setTimeout(function(){
            $('.triangle').css({"border-top":"40px solid white"});
        },1950);
        setTimeout(function(){
            $('.text').css({"opacity":"1"});
        },2500);
        setTimeout(function(){
            $('.text2').css({"opacity":"1"});
        },3000);   
        setTimeout(function(){
            $('.bubble2').addClass('animated');
        },3000);
        setTimeout(function(){
            $('.triangle2').css({"border-top":"40px solid white"});
        },2950);
        setTimeout(function(){
            $('.text21').css({"opacity":"1"});
        },3500);
        setTimeout(function(){
            $('.text22').css({"opacity":"1"});
        },4000);
            
// bubble fade out
        setTimeout(function(){
            $('.bubble.animated').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.text').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.text2').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.triangle').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.bubble2.animated').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.text21').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.text22').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.triangle2').css({"opacity":"0"});
        },4800);
        setTimeout(function(){
            $('.meet-text').css({"opacity":"1"});
        },5500);
        setTimeout(function(){
            $('.meet-text').css({"transform":"translateY(-15%)"});
        },5500);
        setTimeout(function(){
            $('.meet-text2').css({"opacity":"1"});
        },6500);
        setTimeout(function(){
            $('.meet-text2').css({"transform":"translateY(-15%)"});
        },6500);
        setTimeout(function(){
            $('#smile').css({"opacity":"1"});
        },6500);
        setTimeout(function(){
            $('.enter-button').css({"opacity":"1"});
        },6500);
        
        
        var gifSource = $('#intro-gif').attr('src');
        $('#intro-gif').attr('src', "");    
        $('#intro-gif').attr('src', gifSource+"?"+new Date().getTime());
        });
        
//  fade scroll script
        $(function(){
            var documentEl = $(document),
                fadeElem = $('.intro');
            
            documentEl.on('scroll',function(){
                var currentscrollpos = documentEl.scrollTop();
                fadeElem.each(function(){
                    var $this = $(this),
                        elemOffsetTop = $this.offset().top;
                    if (currentscrollpos > elemOffsetTop) $this.css('opacity',1-(currentscrollpos-elemOffsetTop)/400);
                });
            }); 
        });
//  hamburger script
        $(document).ready(function(){
            $('.hamburger').click(function(){
                $('.menu-button').toggleClass('active');
            }); 
//            $('.hamburger').click(function(){
//                $('.nav').toggleClass('active');
//            }); 
//            $('.hamburger').click(function(){
//                $('.nav-wrapper').toggleClass('active');
//            }); 
        });
// smooth scroll script
        $('a[href*="#"]')
         // Remove links that don't actually link to anything
         .not('[href="#"]')
         .not('[href="#0"]')
         .click(function(event) {
           // On-page links
           if (
             location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
             &&
             location.hostname == this.hostname
           ) {
             // Figure out element to scroll to
             var target = $(this.hash);
             target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
             // Does a scroll target exist?
             if (target.length) {
               // Only prevent default if animation is actually gonna happen
               event.preventDefault();
               $('html, body').animate({
                 scrollTop: target.offset().top
               }, 700, function() {
                 // Callback after animation
                 // Must change focus!
                 var $target = $(target);
                 $target.focus();
                 if ($target.is(":focus")) { // Checking if the target was focused
                   return false;
                 } else {
                   $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
                   $target.focus(); // Set focus again
                 };
               });
             }
            }
        });
    </script>
</html>